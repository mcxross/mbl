/*
 * Copyright 2025 McXross
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package xyz.mcxross.mbl.model

enum class StatusCode(val value: ULong) {
    // The status of a transaction as determined by the prologue.
    // Validation Errors: 0-999
    UNKNOWN_VALIDATION_STATUS(0UL),
    INVALID_SIGNATURE(1UL),
    INVALID_AUTH_KEY(2UL),
    SEQUENCE_NUMBER_TOO_OLD(3UL),
    SEQUENCE_NUMBER_TOO_NEW(4UL),
    INSUFFICIENT_BALANCE_FOR_TRANSACTION_FEE(5UL),
    TRANSACTION_EXPIRED(6UL),
    SENDING_ACCOUNT_DOES_NOT_EXIST(7UL),
    REJECTED_WRITE_SET(8UL),
    INVALID_WRITE_SET(9UL),
    EXCEEDED_MAX_TRANSACTION_SIZE(10UL),
    UNKNOWN_SCRIPT(11UL),
    UNKNOWN_MODULE(12UL),
    MAX_GAS_UNITS_EXCEEDS_MAX_GAS_UNITS_BOUND(13UL),
    MAX_GAS_UNITS_BELOW_MIN_TRANSACTION_GAS_UNITS(14UL),
    GAS_UNIT_PRICE_BELOW_MIN_BOUND(15UL),
    GAS_UNIT_PRICE_ABOVE_MAX_BOUND(16UL),
    INVALID_GAS_SPECIFIER(17UL),
    SENDING_ACCOUNT_FROZEN(18UL),
    UNABLE_TO_DESERIALIZE_ACCOUNT(19UL),
    CURRENCY_INFO_DOES_NOT_EXIST(20UL),
    INVALID_MODULE_PUBLISHER(21UL),
    NO_ACCOUNT_ROLE(22UL),
    BAD_CHAIN_ID(23UL),
    SEQUENCE_NUMBER_TOO_BIG(24UL),
    BAD_TRANSACTION_FEE_CURRENCY(25UL),
    FEATURE_UNDER_GATING(26UL),
    SECONDARY_KEYS_ADDRESSES_COUNT_MISMATCH(27UL),
    SIGNERS_CONTAIN_DUPLICATES(28UL),
    SEQUENCE_NONCE_INVALID(29UL),
    CHAIN_ACCOUNT_INFO_DOES_NOT_EXIST(30UL),

    // When a code module/script is published it is verified. These are the
    // possible errors that can arise from the verification process.
    // Verification Errors: 1000-1999
    UNKNOWN_VERIFICATION_ERROR(1000UL),
    INDEX_OUT_OF_BOUNDS(1001UL),
    INVALID_SIGNATURE_TOKEN(1003UL),
    RECURSIVE_DATATYPE_DEFINITION(1005UL),
    FIELD_MISSING_TYPE_ABILITY(1006UL),
    INVALID_FALL_THROUGH(1007UL),
    NEGATIVE_STACK_SIZE_WITHIN_BLOCK(1009UL),
    INVALID_MAIN_FUNCTION_SIGNATURE(1011UL),
    DUPLICATE_ELEMENT(1012UL),
    INVALID_MODULE_HANDLE(1013UL),
    UNIMPLEMENTED_HANDLE(1014UL),
    LOOKUP_FAILED(1017UL),
    TYPE_MISMATCH(1020UL),
    MISSING_DEPENDENCY(1021UL),
    POP_WITHOUT_DROP_ABILITY(1023UL),
    BR_TYPE_MISMATCH_ERROR(1025UL),
    ABORT_TYPE_MISMATCH_ERROR(1026UL),
    STLOC_TYPE_MISMATCH_ERROR(1027UL),
    STLOC_UNSAFE_TO_DESTROY_ERROR(1028UL),
    UNSAFE_RET_LOCAL_OR_RESOURCE_STILL_BORROWED(1029UL),
    RET_TYPE_MISMATCH_ERROR(1030UL),
    RET_BORROWED_MUTABLE_REFERENCE_ERROR(1031UL),
    FREEZEREF_TYPE_MISMATCH_ERROR(1032UL),
    FREEZEREF_EXISTS_MUTABLE_BORROW_ERROR(1033UL),
    BORROWFIELD_TYPE_MISMATCH_ERROR(1034UL),
    BORROWFIELD_BAD_FIELD_ERROR(1035UL),
    FIELD_EXISTS_MUTABLE_BORROW_ERROR(1036UL),
    COPYLOC_UNAVAILABLE_ERROR(1037UL),
    COPYLOC_WITHOUT_COPY_ABILITY(1038UL),
    COPYLOC_EXISTS_BORROW_ERROR(1039UL),
    MOVELOC_UNAVAILABLE_ERROR(1040UL),
    MOVELOC_EXISTS_BORROW_ERROR(1041UL),
    BORROWLOC_REFERENCE_ERROR(1042UL),
    BORROWLOC_UNAVAILABLE_ERROR(1043UL),
    BORROWLOC_EXISTS_BORROW_ERROR(1044UL),
    CALL_TYPE_MISMATCH_ERROR(1045UL),
    CALL_BORROWED_MUTABLE_REFERENCE_ERROR(1046UL),
    PACK_TYPE_MISMATCH_ERROR(1047UL),
    UNPACK_TYPE_MISMATCH_ERROR(1048UL),
    READREF_TYPE_MISMATCH_ERROR(1049UL),
    READREF_WITHOUT_COPY_ABILITY(1050UL),
    READREF_EXISTS_MUTABLE_BORROW_ERROR(1051UL),
    WRITEREF_TYPE_MISMATCH_ERROR(1052UL),
    WRITEREF_WITHOUT_DROP_ABILITY(1053UL),
    WRITEREF_EXISTS_BORROW_ERROR(1054UL),
    WRITEREF_NO_MUTABLE_REFERENCE_ERROR(1055UL),
    INTEGER_OP_TYPE_MISMATCH_ERROR(1056UL),
    BOOLEAN_OP_TYPE_MISMATCH_ERROR(1057UL),
    EQUALITY_OP_TYPE_MISMATCH_ERROR(1058UL),
    EXISTS_WITHOUT_KEY_ABILITY_OR_BAD_ARGUMENT(1059UL),
    BORROWGLOBAL_TYPE_MISMATCH_ERROR(1060UL),
    BORROWGLOBAL_WITHOUT_KEY_ABILITY(1061UL),
    MOVEFROM_TYPE_MISMATCH_ERROR(1062UL),
    MOVEFROM_WITHOUT_KEY_ABILITY(1063UL),
    MOVETO_TYPE_MISMATCH_ERROR(1064UL),
    MOVETO_WITHOUT_KEY_ABILITY(1065UL),
    MODULE_ADDRESS_DOES_NOT_MATCH_SENDER(1067UL),
    NO_MODULE_HANDLES(1068UL),
    POSITIVE_STACK_SIZE_AT_BLOCK_END(1069UL),
    MISSING_ACQUIRES_ANNOTATION(1070UL),
    EXTRANEOUS_ACQUIRES_ANNOTATION(1071UL),
    DUPLICATE_ACQUIRES_ANNOTATION(1072UL),
    INVALID_ACQUIRES_ANNOTATION(1073UL),
    GLOBAL_REFERENCE_ERROR(1074UL),
    CONSTRAINT_NOT_SATISFIED(1075UL),
    NUMBER_OF_TYPE_ARGUMENTS_MISMATCH(1076UL),
    LOOP_IN_INSTANTIATION_GRAPH(1077UL),
    ZERO_SIZED_STRUCT(1080UL),
    LINKER_ERROR(1081UL),
    INVALID_CONSTANT_TYPE(1082UL),
    MALFORMED_CONSTANT_DATA(1083UL),
    EMPTY_CODE_UNIT(1084UL),
    INVALID_LOOP_SPLIT(1085UL),
    INVALID_LOOP_BREAK(1086UL),
    INVALID_LOOP_CONTINUE(1087UL),
    UNSAFE_RET_UNUSED_VALUES_WITHOUT_DROP(1088UL),
    TOO_MANY_LOCALS(1089UL),
    GENERIC_MEMBER_OPCODE_MISMATCH(1090UL),
    FUNCTION_RESOLUTION_FAILURE(1091UL),
    INVALID_OPERATION_IN_SCRIPT(1094UL),
    DUPLICATE_MODULE_NAME(1095UL),
    BACKWARD_INCOMPATIBLE_MODULE_UPDATE(1096UL),
    CYCLIC_MODULE_DEPENDENCY(1097UL),
    NUMBER_OF_ARGUMENTS_MISMATCH(1098UL),
    INVALID_PARAM_TYPE_FOR_DESERIALIZATION(1099UL),
    FAILED_TO_DESERIALIZE_ARGUMENT(1100UL),
    NUMBER_OF_SIGNER_ARGUMENTS_MISMATCH(1101UL),
    CALLED_SCRIPT_VISIBLE_FROM_NON_SCRIPT_VISIBLE(1102UL),
    EXECUTE_ENTRY_FUNCTION_CALLED_ON_NON_ENTRY_FUNCTION(1103UL),
    INVALID_FRIEND_DECL_WITH_SELF(1104UL),
    INVALID_FRIEND_DECL_WITH_MODULES_OUTSIDE_ACCOUNT_ADDRESS(1105UL),
    INVALID_FRIEND_DECL_WITH_MODULES_IN_DEPENDENCIES(1106UL),
    CYCLIC_MODULE_FRIENDSHIP(1107UL),
    INVALID_PHANTOM_TYPE_PARAM_POSITION(1108UL),
    VEC_UPDATE_EXISTS_MUTABLE_BORROW_ERROR(1109UL),
    VEC_BORROW_ELEMENT_EXISTS_MUTABLE_BORROW_ERROR(1110UL),
    LOOP_MAX_DEPTH_REACHED(1111UL),
    TOO_MANY_TYPE_PARAMETERS(1112UL),
    TOO_MANY_PARAMETERS(1113UL),
    TOO_MANY_BASIC_BLOCKS(1114UL),
    VALUE_STACK_OVERFLOW(1115UL),
    TOO_MANY_TYPE_NODES(1116UL),
    VALUE_STACK_PUSH_OVERFLOW(1117UL),
    MAX_DEPENDENCY_DEPTH_REACHED(1118UL),
    MAX_FUNCTION_DEFINITIONS_REACHED(1119UL),
    MAX_STRUCT_DEFINITIONS_REACHED(1120UL),
    MAX_FIELD_DEFINITIONS_REACHED(1121UL),
    TOO_MANY_BACK_EDGES(1122UL),
    RESERVED_VERIFICATION_ERROR_1(1123UL),
    RESERVED_VERIFICATION_ERROR_2(1124UL),
    RESERVED_VERIFICATION_ERROR_3(1125UL),
    RESERVED_VERIFICATION_ERROR_4(1126UL),
    RESERVED_VERIFICATION_ERROR_5(1127UL),
    TOO_MANY_VECTOR_ELEMENTS(1128UL),
    IDENTIFIER_TOO_LONG(1129UL),
    PROGRAM_TOO_COMPLEX(1130UL),
    ENUM_SWITCH_BAD_OPERAND(1131UL),
    ENUM_TYPE_MISMATCH(1132UL),
    INVALID_ENUM_SWITCH(1133UL),
    ZERO_SIZED_ENUM(1134UL),
    MAX_VARIANTS_REACHED(1135UL),
    INVALID_IDENTIFIER(1136UL),

    // These are errors that the VM might raise if a violation of internal
    // invariants takes place.
    // Invariant Violation Errors: 2000-2999
    UNKNOWN_INVARIANT_VIOLATION_ERROR(2000UL),
    EMPTY_VALUE_STACK(2003UL),
    PC_OVERFLOW(2005UL),
    VERIFICATION_ERROR(2006UL),
    STORAGE_ERROR(2008UL),
    INTERNAL_TYPE_ERROR(2009UL),
    EVENT_KEY_MISMATCH(2010UL),
    UNREACHABLE(2011UL),
    VM_STARTUP_FAILURE(2012UL),
    UNEXPECTED_ERROR_FROM_KNOWN_MOVE_FUNCTION(2015UL),
    VERIFIER_INVARIANT_VIOLATION(2016UL),
    UNEXPECTED_VERIFIER_ERROR(2017UL),
    UNEXPECTED_DESERIALIZATION_ERROR(2018UL),
    FAILED_TO_SERIALIZE_WRITE_SET_CHANGES(2019UL),
    FAILED_TO_DESERIALIZE_RESOURCE(2020UL),
    TYPE_RESOLUTION_FAILURE(2021UL),
    DUPLICATE_NATIVE_FUNCTION(2022UL),
    ARITHMETIC_OVERFLOW(2023UL),

    // Errors that can arise from binary decoding (deserialization)
    // Deserialization Errors: 3000-3999
    UNKNOWN_BINARY_ERROR(3000UL),
    MALFORMED(3001UL),
    BAD_MAGIC(3002UL),
    UNKNOWN_VERSION(3003UL),
    UNKNOWN_TABLE_TYPE(3004UL),
    UNKNOWN_SIGNATURE_TYPE(3005UL),
    UNKNOWN_SERIALIZED_TYPE(3006UL),
    UNKNOWN_OPCODE(3007UL),
    BAD_HEADER_TABLE(3008UL),
    UNEXPECTED_SIGNATURE_TYPE(3009UL),
    DUPLICATE_TABLE(3010UL),
    UNKNOWN_ABILITY(3013UL),
    UNKNOWN_NATIVE_STRUCT_FLAG(3014UL),
    BAD_U16(3017UL),
    BAD_U32(3018UL),
    BAD_U64(3019UL),
    BAD_U128(3020UL),
    BAD_U256(3021UL),
    VALUE_SERIALIZATION_ERROR(3022UL),
    VALUE_DESERIALIZATION_ERROR(3023UL),
    CODE_DESERIALIZATION_ERROR(3024UL),
    INVALID_FLAG_BITS(3025UL),
    TRAILING_BYTES(3026UL),
    UNKNOWN_ENUM_FLAG(3027UL),
    UNKNOWN_JUMP_TABLE_FLAG(3028UL),

    // Errors that can arise at runtime
    // Runtime Errors: 4000-4999
    UNKNOWN_RUNTIME_STATUS(4000UL),
    EXECUTED(4001UL),
    OUT_OF_GAS(4002UL),
    RESOURCE_DOES_NOT_EXIST(4003UL),
    RESOURCE_ALREADY_EXISTS(4004UL),
    MISSING_DATA(4008UL),
    DATA_FORMAT_ERROR(4009UL),
    ABORTED(4016UL),
    ARITHMETIC_ERROR(4017UL),
    VECTOR_OPERATION_ERROR(4018UL),
    EXECUTION_STACK_OVERFLOW(4020UL),
    CALL_STACK_OVERFLOW(4021UL),
    VM_MAX_TYPE_DEPTH_REACHED(4024UL),
    VM_MAX_VALUE_DEPTH_REACHED(4025UL),
    VM_EXTENSION_ERROR(4026UL),
    STORAGE_WRITE_LIMIT_REACHED(4027UL),
    MEMORY_LIMIT_EXCEEDED(4028UL),
    VM_MAX_TYPE_NODES_REACHED(4029UL),
    VARIANT_TAG_MISMATCH(4030UL),

    // A reserved status to represent an unknown vm status.
    UNKNOWN_STATUS(18446744073709551615UL);

    companion object {
        // Creates a map for efficient lookups from a ULong value.
        private val map = entries.associateBy(StatusCode::value)

        fun from(value: ULong): StatusCode? = map[value]
    }
}
